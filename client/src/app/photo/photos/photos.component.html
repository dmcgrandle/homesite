<div id="full-screen" *ngIf="thumbs$ | async as thumbs">
    <div class="title" fxLayout="row">
        <h2><span>{{api.curAlbum.name}}:</span></h2>
        <span class="fill-space"></span>
        <a fxHide.xs [download]="thumbs[curThumbsIndex].filename" [href]="thumbs[curThumbsIndex].fullPath | secure">
            <mat-icon>vertical_align_bottom</mat-icon>
        </a>
    </div>
    <div class="photo-container" fxLayout="column" fxLayoutGap="4px" fxLayoutAlign.gt-xs="space-evenly stretch">
        <!-- large display picture -->
        <mat-card class="large-card" (click)="makeFullscreen()" fxLayout="column" fxLayoutAlign="none center"
            fxHide.lt-sm fxFlexAlign="center">
            <div #imageContainer class="img-container" fxLayoutAlign="center center">
                <div class="inner-spinner" *ngIf="largeImgLoading" [ngStyle]="{'height.px': imageHeight}"
                    fxLayoutAlign="center center">
                    <mat-spinner></mat-spinner>
                </div>
                <img [@fade]="largeImgLoading ? 'fadeOut' : 'fadeIn'" [hidden]="largeImgLoading" class="img-large"
                    mat-card-image [src]="thumbs[curThumbsIndex].fullPath | secure" (load)="largeImgLoading=false">
            </div>
            <mat-card-footer>
                <h4 *ngIf="!thumbs[curThumbsIndex].caption">{{thumbs[curThumbsIndex].filename}}</h4>
                <h4 *ngIf="thumbs[curThumbsIndex].caption">{{thumbs[curThumbsIndex].caption}}</h4>
            </mat-card-footer>
        </mat-card>
        <!-- scrollable row of thumbnails -->
        <photo-thumbnails [thumbs]="thumbs" [curIndex]="curThumbsIndex" (thumbChanged)="changeThumb($event)"></photo-thumbnails>
    </div>
</div>

<div *ngIf="!(thumbs$ | async)" class="outer-spinner">
    <p>Getting photos in this album from the server ...</p>
    <mat-spinner></mat-spinner>
</div>